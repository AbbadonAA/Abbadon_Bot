# Abbadon Bot

![bot_workflow](https://github.com/AbbadonAA/Abbadon_Bot/workflows/bot_workflow/badge.svg)

## Описание

Проект по созданию бота-ассистента в Telegram с полезными для меня функциями.
В текущей версии бот умеет сообщать курсы валют по отношению к рублю. – Парсятся открытые данные ЦБ РФ и Мосбиржи (MOEX).

В проекте настроен CI/CD – при пуше в main обновляются контейнеры Docker, и происходит деплой новой версии на сервер.

## Доступ
Бот запущен и доступен для подключения в Telegram: **@Abbadon_Assistant_Bot**

## Поддерживаемые команды:
- **"/valutes"** – получение курсов ЦБ РФ на текущую дату по всем доступным валютам;

- **"/valutes dd.mm.yyyy"** – получение курсов ЦБ РФ на заданную дату по всем валютам, по которым осуществлялись торги в указанный день.
    
    *Пример команды: /valutes 15.07.1992*
    
    *Самая ранняя доступная дата – 01.07.1992*

- **"/currency КОД0 КОД1 КОД2 КОДn"** – получение текущих курсов выбранных валют в двух вариантах:
    - Курс ЦБ РФ на текущую дату;
    - Курс Мосбиржи (MOEX) в режиме реального времени.
    
    *Пример команды: /currency USD EUR CNY JPY*
    
    *Если валюта не торгуется на Мосбирже, будет выведен только курс ЦБ РФ.*
    
    *Список доступных валют можно узнать по команде "/valutes".*

## Установка:
1. Клонируйте репозиторий:
```
git clone git@github.com:AbbadonAA/Abbadon_Bot.git
```
2. Создайте и активируйте виртуальное окружение:
```
python3 -m venv venv
source venv/bin/activate
```
3. Установите зависимости:
```
pip install -r requirements.txt
```
4. При помощи @BotFather в Telegram создайте нового бота и получите API TOKEN
5. В директории infra создайте файл .env со следующим содержанием:
```
API_TOKEN=<токен вашего бота>
```
6. В корневой директории выполните команду для запуска бота:
```
python main.py
```
7. Бот запущен и готов отвечать на команды, логи выводятся в терминал.


### Автор
Pushkarev Anton

pushkarevantona@gmail.com
